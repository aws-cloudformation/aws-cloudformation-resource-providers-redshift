{
    "typeName": "AWS::Redshift::EndpointAccess",
    "description": "An example resource schema demonstrating some basic constructs and validation rules.",
    "sourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-rpdk.git",
    "definitions": {
        "Tag": {
            "description": "A key-value pair to associate with a resource.",
            "type": "object",
            "properties": {
                "Key": {
                    "type": "string",
                    "description": "The key name of the tag. You can specify a value that is 1 to 127 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.",
                    "minLength": 1,
                    "maxLength": 127
                },
                "Value": {
                    "type": "string",
                    "description": "The value for the tag. You can specify a value that is 1 to 255 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.",
                    "minLength": 1,
                    "maxLength": 255
                }
            },
            "required": [
                "Value",
                "Key"
            ]
        }
    },
    "properties": {
        "Address": {
            "description": "The DNS address associated with the EndpointAccess.",
            "type": "string"
        },
        "ClusterIdentifier": {
            "description": "A unique identifier for the cluster. You use this identifier to refer to the cluster for any subsequent cluster operations such as deleting or modifying. All alphabetical characters must be lower case, no hypens at the end, no two consecutive hyphens. Cluster name should be unique for all clusters within an AWS account",
            "type": "string"
        },
       "VpcSecurityGroups": {
            "description": "A list of Virtual Private Cloud (VPC) security groups to be associated with the endpoint.",
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "ResourceOwner": {
            "description": "The cluster owner's AWS account ID.",
            "type": "string"
        },
        "EndpointStatus": {
            "description": "The status of the endpoint. TODO change to enum?",
            "type": "string"
        },
        "EndpointName": {
            "description": "The endpoint's name.",
            "type": "string"
        },
        "EndpointCreateTime": {
            "description": "The date and time when the endpoint was created.",
            "type": "string"
        },
        "SubnetGroupName": {
            "description": "The subnet group that contains the endpoint.",
            "type": "string"
        },
        "VpcId": {
            "description": "The VPC ID representing the VPC the endpoint belongs to.",
            "type": "string"
        },
        "VpcSecurityGroupIds": {
            "description": "A list of vpc security group ids to apply to the created endpoint access.",
            "type": "array",
            "items": {
                "type": "string"
            }
        }
    },
    "additionalProperties": false,
    "required": [
    ],
    "primaryIdentifier": [
        "/properties/ClusterIdentifier"
    ],
    "readOnlyProperties": [
        "/properties/ClusterIdentifier",
        "/properties/Address",
        "/properties/EndpointStatus",
        "/properties/EndpointCreateTime",
        "/properties/VpcSecurityGroups"
    ],
    "writeOnlyProperties": [
        "/properties/VpcId"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "redshift:CreateEndpointAccess"
            ],
            "timeoutInMinutes": 60
        },
        "read": {
            "permissions": [
                "redshift:DescribeEndpointAccess"
            ]
        },
        "update": {
            "permissions": [
                "redshift:ModifyEndpointAccess"
            ],
            "timeoutInMinutes": 60
        },
        "delete": {
            "permissions": [
                "redshift:DeleteEndpointAccess"
            ],
            "timeoutInMinutes": 60
        },
        "list": {
            "permissions": [
                "redshift:DescribeEndpointAccess"
            ]
        }
    }
}
